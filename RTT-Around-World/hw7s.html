<!DOCTYPE html><HTML>
<HEAD>
<TITLE></TITLE>
</HEAD>
<BODY>
<A name=1></a>Homework&#160;7:&#160;Round-trip&#160;time&#160;measurements&#160;-&#160;Playing&#160;around&#160;with<br/>
Planetlab<br/>
Raghavan&#160;KL<br/>
November&#160;14,&#160;2012<br/>
Abstract<br/>
gather&#160;around&#160;300,000&#160;ping&#160;records.&#160;The&#160;distance<br/>between&#160;every&#160;other&#160;IP&#160;is&#160;calculated&#160;using&#160;the&#160;perl<br/>
In&#160;this&#160;homework,&#160;I&#160;measure&#160;and&#160;report&#160;round-trip<br/>
library&#160;which&#160;manipulates&#160;them&#160;based&#160;on&#160;the&#160;latti-<br/>
times&#160;for&#160;200&#160;Planetlab&#160;hosts.<br/>
I&#160;have&#160;used&#160;these<br/>
tude,&#160;longitude&#160;of&#160;IPs.&#160;A&#160;total&#160;record&#160;set&#160;of&#160;200&#160;*<br/>
planet&#160;lab&#160;machines&#160;to&#160;ping&#160;each&#160;other&#160;and&#160;collected<br/>
200&#160;IPs&#160;is&#160;calculated&#160;in&#160;the&#160;format&#160;of&#160;From&#160;IP,&#160;To<br/>
their&#160;data,&#160;based&#160;on&#160;this&#160;data&#160;I&#160;have&#160;made&#160;esti-<br/>
IP,&#160;Distance&#160;and&#160;stored&#160;for&#160;future&#160;use.&#160;One&#160;time<br/>
mations&#160;on&#160;rtt&#160;and&#160;distance&#160;between&#160;the&#160;machines<br/>
storage&#160;of&#160;this&#160;data&#160;would&#160;be&#160;a&#160;viable&#160;idea&#160;since&#160;this<br/>
around&#160;the&#160;world.&#160;Following&#160;are&#160;the&#160;steps&#160;involved<br/>
would&#160;be&#160;a&#160;static&#160;data&#160;and&#160;no&#160;need&#160;to&#160;calculate&#160;them<br/>
and&#160;they&#160;are&#160;explained&#160;in&#160;detail&#160;in&#160;this&#160;document,<br/>
again.<br/>
•&#160;Collection&#160;of&#160;data<br/>
•&#160;Extraction/Cleaning<br/>
2<br/>
Extraction/Cleaning<br/>
•&#160;Visualization&#160;of&#160;data<br/>
2.1<br/>
Extracting&#160;ping&#160;data<br/>
•&#160;Analysis<br/>
The&#160;ping&#160;data&#160;which&#160;is&#160;gathered&#160;is&#160;then&#160;structured<br/>into&#160;a&#160;ﬁle&#160;consisting&#160;of&#160;the&#160;format&#160;From&#160;IP,&#160;To&#160;IP,<br/>
•&#160;Inference<br/>
RTT&#160;Time.&#160;This&#160;is&#160;an&#160;cleaned&#160;dataset&#160;derived&#160;out<br/>the&#160;whole&#160;ping&#160;dataset&#160;which&#160;was&#160;gathered&#160;during<br/>
The&#160;whole&#160;process&#160;was&#160;carried&#160;out&#160;in&#160;two&#160;dif-<br/>
the&#160;collection&#160;process.<br/>
ferent&#160;time&#160;intervals&#160;one&#160;was&#160;on&#160;Nov-12-2012<br/>10.00PM(Night)&#160;and&#160;other&#160;was&#160;on&#160;Nov-13-2012<br/>9.00AM(Morning).<br/>
2.2<br/>
Merging<br/>
distance<br/>
and<br/>
Ping<br/>
dataset<br/>
1<br/>
Collection<br/>
The&#160;stored&#160;distance&#160;data&#160;is&#160;used&#160;to&#160;map&#160;with&#160;the&#160;ex-<br/>tracted&#160;ping&#160;information&#160;and&#160;new&#160;distance&#160;ping&#160;time<br/>
After&#160;getting&#160;a&#160;planet&#160;lab&#160;account,&#160;I&#160;was&#160;able&#160;to<br/>
ﬁle&#160;is&#160;structured&#160;in&#160;the&#160;following&#160;format&#160;From&#160;IP,<br/>
login&#160;to&#160;any&#160;of&#160;the&#160;active&#160;planet&#160;machines(approx.<br/>
To&#160;IP,&#160;Distance,&#160;RTT&#160;Time.<br/>
200).Then&#160;I&#160;passed&#160;a&#160;ﬁle&#160;to&#160;all&#160;the&#160;planet&#160;lab&#160;ma-<br/>chine&#160;which&#160;consist&#160;of&#160;ping&#160;command&#160;to&#160;all&#160;machines.<br/>The&#160;ping&#160;data&#160;of&#160;all&#160;these&#160;machines&#160;I&#160;extracted&#160;and<br/>
2.3<br/>
Preparing&#160;CDF&#160;dataset<br/>
placed&#160;into&#160;my&#160;local&#160;log&#160;ﬁle.&#160;This&#160;step&#160;was&#160;optimized<br/>by&#160;running&#160;the&#160;commands&#160;in&#160;the&#160;background&#160;instead<br/>
The&#160;cummulative&#160;distribution&#160;function&#160;is&#160;applied<br/>
of&#160;waiting&#160;in&#160;the&#160;foreground,&#160;by&#160;this&#160;I&#160;managed&#160;to<br/>
over&#160;the&#160;RTT&#160;time<br/>
1<br/>
<hr>
<A name=2></a>3<br/>
Visualization&#160;of&#160;data<br/>
&#160;500<br/>
one-way time<br/>
3.1<br/>
Scatter&#160;Plot<br/>
&#160;400<br/>
A&#160;scatter&#160;plot&#160;is&#160;developed&#160;taking&#160;the&#160;Distance(in<br/>
&#160;300<br/>
Kms)&#160;in&#160;the&#160;X&#160;axis&#160;and&#160;RTT(Round&#160;Trip&#160;Time&#160;in<br/>ms)&#160;on&#160;the&#160;Y&#160;axis.&#160;From&#160;the&#160;given&#160;Figures.1&#160;and&#160;2<br/>
RTT &#160;(ms)<br/>
&#160;200<br/>
we&#160;can&#160;observe&#160;that&#160;there&#160;is&#160;a&#160;linear&#160;increase&#160;on&#160;way<br/>section&#160;and&#160;there&#160;are&#160;many&#160;disturbances&#160;all&#160;around<br/>
&#160;100<br/>
which&#160;might&#160;be&#160;due&#160;to&#160;the&#160;latency&#160;of&#160;ping&#160;or&#160;some<br/>machine&#160;which&#160;responded&#160;very&#160;late.<br/>
&#160;0<br/>
&#160;0<br/>
&#160;2000&#160;&#160;4000&#160;&#160;6000&#160;&#160;8000&#160;&#160;10000&#160;&#160;12000&#160;&#160;14000&#160;&#160;16000&#160;&#160;18000&#160;&#160;20000<br/>
Distance (Kms)<br/>
3.2<br/>
CDF&#160;Graph<br/>
Figure&#160;1:&#160;My&#160;round-trip&#160;time&#160;measurements&#160;on&#160;Night<br/>data.<br/>
As&#160;CDF&#160;plot&#160;is&#160;made&#160;by&#160;taking&#160;the&#160;cummulative&#160;val-<br/>ues&#160;of&#160;RTT&#160;in&#160;the&#160;Y&#160;axis&#160;and&#160;distances&#160;taken&#160;in&#160;the<br/>
&#160;500<br/>
one-way time<br/>
X&#160;axis.&#160;The&#160;Figures.&#160;3,&#160;4&#160;shows&#160;the&#160;CDFs&#160;drawn<br/>during&#160;two&#160;diﬀerent&#160;time&#160;intervals.<br/>
&#160;400<br/>
&#160;300<br/>
3.3<br/>
SD&#160;Curve<br/>
RTT &#160;(ms)<br/>
&#160;200<br/>
The&#160;mean&#160;speed&#160;of&#160;bits&#160;was&#160;calculated&#160;using&#160;the&#160;for-<br/>mulae<br/>
&#160;100<br/>
distance&#160;∗&#160;2/(rtt/1000)km/s<br/>
&#160;0<br/>
&#160;0<br/>
&#160;2000&#160;&#160;4000&#160;&#160;6000&#160;&#160;8000&#160;&#160;10000&#160;&#160;12000&#160;&#160;14000&#160;&#160;16000&#160;&#160;18000&#160;&#160;20000<br/>
and&#160;the&#160;Standard&#160;Deviation&#160;calculated&#160;using&#160;this&#160;for-<br/>
Distance (Kms)<br/>
mulae<br/>
Figure&#160;2:<br/>
My&#160;round-trip&#160;time&#160;measurements&#160;on<br/>
N<br/>
Morning&#160;data.<br/>
1/N<br/>
(Xi&#160;−&#160;mean)2<br/>
i=0<br/>
&#160;1<br/>
’./data/cdf.txt’ using ($1):($2/5304)<br/>
.<br/>
For&#160;the&#160;experiment&#160;which&#160;was&#160;run&#160;during&#160;night,&#160;the<br/>
&#160;0.8<br/>
mean&#160;speed&#160;of&#160;bits&#160;was&#160;calculated&#160;as&#160;104535&#160;km/s<br/>and&#160;the&#160;Standard&#160;Deviation&#160;calculated&#160;was&#160;307203<br/>
&#160;0.6<br/>
this&#160;shows&#160;the&#160;disturbances&#160;in&#160;the&#160;distribution&#160;of&#160;the<br/>values.&#160;The&#160;Figures.&#160;5&#160;shows&#160;the&#160;SDs&#160;drawn&#160;during<br/>
RTT &#160;(ms)<br/>
&#160;0.4<br/>
the&#160;night&#160;experiment.<br/>
For&#160;the&#160;experiment&#160;which&#160;was&#160;run&#160;during&#160;morning,<br/>
&#160;0.2<br/>
the&#160;mean&#160;speed&#160;of&#160;bits&#160;was&#160;calculated&#160;as&#160;118582<br/>km/s&#160;and&#160;the&#160;Standard&#160;Deviation&#160;was&#160;around<br/>
&#160;0<br/>
&#160;0<br/>
&#160;2000&#160;&#160;4000&#160;&#160;6000&#160;&#160;8000&#160;&#160;10000&#160;&#160;12000&#160;&#160;14000&#160;&#160;16000&#160;&#160;18000<br/>
452566&#160;this&#160;again&#160;shows&#160;the&#160;disturbances&#160;in&#160;the&#160;dis-<br/>
Distance (Kms)<br/>
tribution&#160;of&#160;the&#160;values.The&#160;Figures.6&#160;shows&#160;the&#160;SDs<br/>
Figure&#160;3:&#160;My&#160;CDF&#160;plot&#160;on&#160;Night&#160;collected&#160;data.<br/>
drawn&#160;during&#160;the&#160;morning&#160;experiment.<br/>
2<br/>
<hr>
<A name=3></a>4<br/>
Analysis<br/>
&#160;1<br/>
’./data/cdf.txt’ using ($1):($2/1583)<br/>
4.1<br/>
Max.&#160;Speed&#160;of&#160;bits&#160;on&#160;internet<br/>
&#160;0.8<br/>
Comparing&#160;to&#160;the&#160;maximum&#160;speed&#160;of&#160;light<br/>
&#160;0.6<br/>
3&#160;∗&#160;108m/s<br/>
RTT &#160;(ms)<br/>
&#160;0.4<br/>
the&#160;maximum&#160;speed&#160;of&#160;bits&#160;which&#160;I&#160;could&#160;infer&#160;from<br/>
&#160;0.2<br/>
my&#160;dataset&#160;was&#160;maximum&#160;to&#160;the&#160;range&#160;of<br/>
&#160;0<br/>
1&#160;∗&#160;108m/s<br/>
&#160;0<br/>
&#160;2000&#160;&#160;4000&#160;&#160;6000&#160;&#160;8000&#160;&#160;10000&#160;&#160;12000&#160;&#160;14000&#160;&#160;16000&#160;&#160;18000<br/>
Distance (Kms)<br/>
which&#160;was&#160;below&#160;the&#160;speed&#160;of&#160;light&#160;it&#160;might&#160;be&#160;be-<br/>
Figure&#160;4:&#160;My&#160;CDF&#160;plot&#160;on&#160;Morning&#160;collected&#160;data<br/>
cause&#160;of&#160;channel&#160;which&#160;carries&#160;the&#160;bits&#160;might&#160;be<br/>slow(bandwidth)&#160;or&#160;there&#160;might&#160;be&#160;many&#160;bottleneck<br/>connections&#160;which&#160;is&#160;shared&#160;among&#160;my&#160;channels.<br/>
&#160;1e+07<br/>
’data/speed_variance.txt’ using ($1):($2)<br/>
&#160;9e+06<br/>
&#160;8e+06<br/>
4.2<br/>
Misreported&#160;locations<br/>
&#160;7e+06<br/>
&#160;6e+06<br/>
4.3<br/>
Poorly&#160;connected&#160;countries<br/>
&#160;5e+06<br/>
&#160;4e+06<br/>
From&#160;the&#160;collected&#160;RTT&#160;dataset&#160;of&#160;all&#160;planet&#160;lab&#160;ma-<br/>
&#160;3e+06<br/>
Variance of speed&#160;<br/>
chines&#160;the&#160;To&#160;IP&#160;address&#160;which&#160;always&#160;had&#160;the&#160;less<br/>
&#160;2e+06<br/>
ping&#160;time&#160;from&#160;all&#160;other&#160;machines&#160;is&#160;sorted&#160;out&#160;and<br/>
&#160;1e+06<br/>
the&#160;last&#160;few&#160;records&#160;are&#160;tailed,&#160;on&#160;looking&#160;at&#160;this&#160;data<br/>
&#160;0<br/>
there&#160;are&#160;few&#160;IPs&#160;which&#160;are&#160;expected&#160;to&#160;be&#160;in&#160;the<br/>
-1e+06<br/>
&#160;0<br/>
&#160;1e+06&#160;&#160;2e+06&#160;&#160;3e+06&#160;&#160;4e+06&#160;&#160;5e+06&#160;&#160;6e+06&#160;&#160;7e+06&#160;&#160;8e+06&#160;&#160;9e+06&#160;&#160;1e+07<br/>
poorly&#160;connected&#160;countries.&#160;Few&#160;such&#160;IPs&#160;are&#160;listed<br/>
Speed<br/>
below,<br/>
Figure&#160;5:&#160;My&#160;SD&#160;plot&#160;on&#160;Night&#160;collected&#160;data<br/>
•&#160;138.4.0.120<br/>
&#160;1e+07<br/>
•&#160;130.216.1.22<br/>
’data/speed_variance.txt’ using ($1):($2)<br/>
&#160;9e+06<br/>
&#160;8e+06<br/>
•&#160;130.216.1.23<br/>
&#160;7e+06<br/>
&#160;6e+06<br/>
•&#160;163.117.253.23<br/>
&#160;5e+06<br/>
&#160;4e+06<br/>
•&#160;163.117.253.22<br/>
&#160;3e+06<br/>
Variance of speed&#160;<br/>
&#160;2e+06<br/>
•&#160;156.62.231.242<br/>
&#160;1e+06<br/>
&#160;0<br/>
•&#160;193.136.124.226<br/>
-1e+06<br/>
&#160;0<br/>
&#160;1e+06&#160;&#160;2e+06&#160;&#160;3e+06&#160;&#160;4e+06&#160;&#160;5e+06&#160;&#160;6e+06&#160;&#160;7e+06&#160;&#160;8e+06&#160;&#160;9e+06&#160;&#160;1e+07<br/>
Speed<br/>
•&#160;202.112.28.100<br/>
Figure&#160;6:&#160;My&#160;SD&#160;plot&#160;on&#160;Morning&#160;collected&#160;data<br/>
•&#160;190.227.163.141<br/>
3<br/>
<hr>
<A name=4></a>4.4<br/>
Deducing&#160;IP&#160;location<br/>
The&#160;IP&#160;address&#160;given&#160;for&#160;deduction&#160;68.86.95.9&#160;is<br/>pinged&#160;from&#160;all&#160;the&#160;planet&#160;lab&#160;machines&#160;to&#160;all&#160;other<br/>machines,&#160;the&#160;RTT&#160;log&#160;is&#160;gathered&#160;out&#160;and&#160;this&#160;ping<br/>data&#160;is&#160;compared&#160;with&#160;the&#160;existing&#160;ping&#160;data&#160;set&#160;.<br/>The&#160;From&#160;IP,&#160;To&#160;IP,&#160;Distance,&#160;RRT&#160;matching&#160;with<br/>the&#160;existing&#160;data&#160;pool&#160;is&#160;collated&#160;and&#160;by&#160;ball&#160;park-<br/>ing&#160;this&#160;is&#160;infered&#160;to&#160;be&#160;a&#160;location&#160;matching&#160;to&#160;IP<br/>128.252.19.18&#160;with&#160;latitude&#160;38.6479&#160;and&#160;longitude&#160;-<br/>90.3015<br/>
5<br/>
Challenges<br/>
There&#160;were&#160;few&#160;interesting&#160;challenges&#160;which&#160;I&#160;faced<br/>and&#160;almost&#160;succedded&#160;in&#160;solving&#160;them,<br/>
•&#160;To&#160;understand&#160;the&#160;awk,&#160;sed,&#160;many&#160;other&#160;bash<br/>
commands&#160;and&#160;latex<br/>
•&#160;Spawning&#160;background&#160;jobs&#160;to&#160;expedite&#160;the&#160;pro-<br/>
cess&#160;of&#160;collecting&#160;ping&#160;data<br/>
•&#160;Cleaning&#160;up&#160;the&#160;collected&#160;data&#160;and&#160;formatting<br/>
them&#160;to&#160;process<br/>
•&#160;Sorting&#160;data&#160;based&#160;on&#160;various&#160;parameters&#160;and<br/>
logically&#160;extracting&#160;them<br/>
•&#160;Understanding&#160;the&#160;math&#160;behind&#160;Standard&#160;Devi-<br/>
ation,&#160;Cummulative&#160;Distribution&#160;and&#160;handling<br/>them<br/>
6<br/>
Conclusions<br/>
This&#160;excerise&#160;on&#160;the&#160;whole&#160;helped&#160;me&#160;to&#160;understand<br/>the&#160;underneath&#160;concept&#160;of&#160;data&#160;travel&#160;around&#160;the&#160;in-<br/>ternet,&#160;also&#160;a&#160;massive&#160;dataset&#160;was&#160;collected,&#160;cleaned<br/>and&#160;visualized&#160;with&#160;eﬀective&#160;usage&#160;of&#160;shell&#160;scripting,<br/>few&#160;analysis&#160;was&#160;performed&#160;based&#160;on&#160;the&#160;dataset&#160;col-<br/>lected.<br/>
4<br/>
<hr>
</BODY>
</HTML>
